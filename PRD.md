# Timeline Craft AI - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位

Timeline Craft AI 是一个基于时间轴的智能视频创作工具，让用户通过简单的文字描述创建精美的视频内容。

### 1.2 目标用户

- 内容创作者
- 营销人员
- 教育工作者
- 个人用户

### 1.3 核心价值主张

- 降低视频创作门槛
- 提供专业级时间轴编辑体验
- AI驱动的图像生成和视频合成

## 2. 功能需求

### 2.1 时间轴编辑器

#### 2.1.1 基础功能

- [x] 可视化时间轴界面 (180秒总时长)
- [x] 拖拽创建片段
- [x] 片段选择和删除
- [x] 缩放控制 (0.5x - 3x)
- [x] 响应式设计

#### 2.1.2 片段管理

- [x] 片段状态管理 (empty/generating/ready/error)
- [x] 片段描述编辑
- [x] 连贯排列显示
- [x] 悬停优先级显示

#### 2.1.3 用户交互

- [x] 最小片段时长限制 (0.5秒)
- [x] 时间刻度显示
- [x] 状态可视化指示器
- [x] 片段描述指导 (主体、运动、背景)

### 2.2 片段编辑面板

#### 2.2.1 描述编辑

- [x] 结构化描述输入
- [x] 三要素指导 (主体、运动、背景)
- [x] 实时更新
- [x] 参考图片上传功能

#### 2.2.2 图像生成

- [ ] 首帧图像生成
- [ ] 尾帧图像生成
- [ ] 图像重新生成
- [ ] 生成状态反馈
- [ ] 参考图片辅助生成

### 2.3 视频播放器

#### 2.3.1 播放控制

- [x] 播放/暂停控制
- [x] 进度条控制
- [x] 时间显示

#### 2.3.2 视频展示

- [ ] 视频文件播放
- [ ] 全屏支持
- [ ] 音量控制

### 2.4 项目管理

#### 2.4.1 项目列表

- [x] 项目展示卡片
- [x] 创建新项目
- [x] 项目预览缩略图

#### 2.4.2 项目操作

- [ ] 项目重命名
- [ ] 项目删除
- [ ] 项目复制
- [ ] 项目导出

### 2.5 AI集成

#### 2.5.1 图像生成

- [ ] 文字转图像 API 集成
- [ ] 批量生成优化
- [ ] 错误处理和重试

#### 2.5.2 视频合成

- [ ] 片段视频生成
- [ ] 无缝拼接算法
- [ ] 过渡效果处理

## 6. 数据需求

### 6.1 数据模型

#### 6.1.1 项目数据

```typescript
interface Project {
  id: string;
  name: string;
  description?: string;
  thumbnail?: string;
  createdAt: Date;
  updatedAt: Date;
  segments: Segment[];
}
```

#### 6.1.2 片段数据

```typescript
interface Segment {
  id: string;
  startTime: number;
  endTime: number;
  description: string;
  status: 'empty' | 'generating' | 'ready' | 'error';
  startFrame?: string;
  endFrame?: string;
}
```
